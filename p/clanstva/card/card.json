{"_id":"579e6a6714740366603d1d5d","sourceType":"template","name":"Članstva","group":"p","method":"clanstva","dataUrl":"https://analize.parlameter.si/v1/p/getMembershipsOfMember","ejs":"<style>.card-clanstva .poslanec .nav-tabs{padding-bottom:13px}.card-clanstva .poslanec .nav-tabs>li{width:33.333%}.card-clanstva .membership-list{margin:0;min-height:72px;padding:0}.card-clanstva .membership-list .key{padding:4px 0;text-align:left;width:100%;line-height:1.3em}.card-clanstva .membership-list .key a:hover{background-color:#e1f6ff;text-decoration:none}@media (max-width:767px){.card-clanstva .poslanec .nav-tabs{font-size:11px}}</style><div class=\"card-container card-halfling card-clanstva\"><div class=\"front\"><div class=\"card-header\"><div class=\"card-header-border\"></div><h1>Članstva</h1></div><div class=\"card-content\"> <% function makeId() { var text = \"\"; var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\"; for(var i = 0; i < 5; i++) { text += possible.charAt(Math.floor(Math.random() * possible.length)); } return text; } var randomId = makeId(); var membershipTabMap = { 'odbor': 'Delovna telesa', 'kolegij': 'Delovna telesa', 'komisija' : 'Delovna telesa', 'delegacija' : 'Stalne delegacije', 'skupina prijateljstva': 'Skupine prijateljstva' }; var tabs = { 'Delovna telesa': [], 'Stalne delegacije': [], 'Skupine prijateljstva': [] }; for (membership in data.memberships) { if (membership in membershipTabMap) { var tabId = membershipTabMap[membership]; tabs[tabId] = tabs[tabId].concat(data.memberships[membership]); } } %> <div class=\"bgwhite poslanec\"><ul class=\"nav nav-tabs\" role=\"tablist\"> <% var i = 0; for (tab in tabs) { %> <li role=\"presentation\" class=\"<%= i === 0 ? 'active' : '' %>\"><a href=\"#<%= tab.replace(/ /g, '_') %>_<%= randomId %>\" aria-controls=\"<%= tab %>\" role=\"tab\" data-toggle=\"tab\"><%= tab %></a></li> <% i++ } %> </ul><div class=\"tab-content\"> <% var i = 0; for (tab in tabs) { var PAGE_SIZE = 3; var currentTab = tabs[tab]; var hasPagination = currentTab.length > PAGE_SIZE; var pageCount = Math.ceil(currentTab.length / PAGE_SIZE); %> <div role=\"tabpanel\" class=\"tab-pane<%= i === 0 ? ' active' : '' %>\" id=\"<%= tab.replace(/ /g, '_') %>_<%= randomId %>\"> <% if (hasPagination) { %> <div class=\"tab-content\"> <% for (var j = 0; j < pageCount; j++) { %> <div role=\"tabpanel\" class=\"tab-pane<%= j === 0 ? ' active' : '' %>\" id=\"<%= tab.replace(/ /g, '_') %>_<%= randomId %>_<%= j %>\"> <% var items = currentTab.slice(j * PAGE_SIZE, (j + 1) * PAGE_SIZE); %> <ul class=\"membership-list\"> <% items.forEach(function(membershipItem) { %> <li class=\"key\"><a href=\"#\"> <%= membershipItem.name %></a></li> <% }) %> </ul></div> <% } %> </div> <% } else { var items = currentTab; %> <ul class=\"membership-list\"> <% items.forEach(function(membershipItem) { %> <li class=\"key\"><a href=\"#\"> <%= membershipItem.name %></a></li> <% }) %> </ul> <% } %> <% if (hasPagination) { %> <nav class=\"pagination-container\" aria-label=\"Page navigation\"><ul class=\"pagination\" role=\"tablist\"><li class=\"arrow\"><a href=\"#\" aria-label=\"Previous\" data-move-pagination=\"prev\"><span aria-hidden=\"true\"></span></a></li> <% for (var j = 0; j < pageCount; j++) { %> <li role=\"presentation\" class=\"<%= j === 0 ? 'active' : '' %>\"><a href=\"#<%= tab.replace(/ /g, '_') %>_<%= randomId %>_<%= j %>\" aria-controls=\"<%= tab %>\" role=\"tab\" data-toggle=\"tab\"><%= j + 1 %></a></li> <% } %> <li class=\"arrow\"><a href=\"#\" aria-label=\"Next\" data-move-pagination=\"next\"><span aria-hidden=\"true\"></span></a></li></ul></nav> <% } %> </div> <% i++ } %> </div></div></div><div class=\"card-footer\"><div class=\"card-circle-button card-share\" data-back=\"share\"></div><div class=\"card-circle-button card-embed\" data-back=\"embed\"></div><div class=\"card-circle-button card-info\" data-back=\"info\">i</div></div></div><div class=\"back\"><div class=\"back-info\"><div class=\"card-header\"><div class=\"card-header-border\"></div><h1>Članstva</h1></div><div class=\"card-back-content card-content\"><div class=\"scroller\" id=\"tvojamtka\"><p class=\"info-text\">Izpis vseh članstev <%= vocab['poslanec3'][data.person.gender] %> v delovnih telesih, stalnih delegacijah in skupinah prijateljstva.</p></div></div><div class=\"card-footer\"><div class=\"card-circle-button card-share\" data-back=\"share\"></div><div class=\"card-circle-button card-embed\" data-back=\"embed\"></div><div class=\"card-circle-button card-info card-exit\" data-back=\"info\">×</div></div></div><div class=\"back-embed\"><div class=\"card-header\"><div class=\"card-header-border\"></div><h1>Članstva</h1></div><div class=\"card-back-content card-content\"><div class=\"embed-content\"><div class=\"embed-divider\"></div><div class=\"embed-switch-container\"><div class=\"embed-label\">Podatki naj se vedno osvežujejo</div><div class=\"embed-switch-big-box\"><div class=\"embed-switch-box\"><div class=\"embed-switch\"><div class=\"embed-switches\"><div class=\"leftswitch\">DA</div><div class=\"rightswitch\">NE</div></div></div></div><div class=\"embed-switch-ball\"></div></div></div><div class=\"embed-divider\"></div><div class=\"embed-script\"><textarea class=\"form-control\" data-id=\"<%= data.person.id %>\" data-url=\"https://glej.parlameter.si/<%= cardData.group %>/<%= cardData.method %>/\"><iframe frameborder=\"0\" width=\"620\" height=\"400\" src=\"https://glej.parlameter.si/<%= cardData.group %>/<%= cardData.method %>/<%= data.person.id %>/?embed=true\"></iframe></textarea><button class=\"btn-parlameter btn-full-width btn-blue btn-copy-embed\">KOPIRAJ</button></div><div class=\"embed-divider\"></div><div class=\"embed-export\"><div class=\"embed-label\">Izvozi kartico kot sliko <button class=\"btn-parlameter btn-blue btn-margin-left\">PRENESI</button></div></div></div></div><div class=\"card-footer\"><div class=\"card-circle-button card-share\" data-back=\"share\"></div><div class=\"card-circle-button card-embed card-exit\" data-back=\"embed\">×</div><div class=\"card-circle-button card-info\" data-back=\"info\">i</div></div></div><div class=\"back-share\"><div class=\"card-header\"><div class=\"card-header-border\"></div><h1>Članstva</h1></div><div class=\"card-back-content card-content\"><div class=\"share-content\"><label for=\"share-url\">Neposredna povezava do kartice</label><input type=\"url\" class=\"form-control\" id=\"share-url\" value=\"https://parlameter.si/trajlala\"> <button class=\"btn-parlameter btn-full-width btn-blue\">KOPIRAJ</button></div></div><div class=\"card-footer\"><div class=\"card-circle-button card-share card-exit\" data-back=\"share\">×</div><div class=\"card-circle-button card-embed\" data-back=\"embed\"></div><div class=\"card-circle-button card-info\" data-back=\"info\">i</div></div></div></div></div><script>+function(t){\"use strict\";function a(a){return this.each(function(){var n=t(this),i=n.data(\"bs.tab\");i||n.data(\"bs.tab\",i=new e(this)),\"string\"==typeof a&&i[a]()})}var e=function(a){this.element=t(a)};e.VERSION=\"3.3.6\",e.TRANSITION_DURATION=150,e.prototype.show=function(){var a=this.element,e=a.closest(\"ul:not(.dropdown-menu)\"),n=a.data(\"target\");if(n||(n=a.attr(\"href\"),n=n&&n.replace(/.*(?=#[^\\s]*$)/,\"\")),!a.parent(\"li\").hasClass(\"active\")){var i=e.find(\".active:last a\"),r=t.Event(\"hide.bs.tab\",{relatedTarget:a[0]}),o=t.Event(\"show.bs.tab\",{relatedTarget:i[0]});if(i.trigger(r),a.trigger(o),!o.isDefaultPrevented()&&!r.isDefaultPrevented()){var s=t(n);this.activate(a.closest(\"li\"),e),this.activate(s,s.parent(),function(){i.trigger({type:\"hidden.bs.tab\",relatedTarget:a[0]}),a.trigger({type:\"shown.bs.tab\",relatedTarget:i[0]})})}}},e.prototype.activate=function(a,n,i){function r(){o.removeClass(\"active\").find(\"> .dropdown-menu > .active\").removeClass(\"active\").end().find('[data-toggle=\"tab\"]').attr(\"aria-expanded\",!1),a.addClass(\"active\").find('[data-toggle=\"tab\"]').attr(\"aria-expanded\",!0),s?(a[0].offsetWidth,a.addClass(\"in\")):a.removeClass(\"fade\"),a.parent(\".dropdown-menu\").length&&a.closest(\"li.dropdown\").addClass(\"active\").end().find('[data-toggle=\"tab\"]').attr(\"aria-expanded\",!0),i&&i()}var o=n.find(\"> .active\"),s=i&&t.support.transition&&(o.length&&o.hasClass(\"fade\")||!!n.find(\"> .fade\").length);o.length&&s?o.one(\"bsTransitionEnd\",r).emulateTransitionEnd(e.TRANSITION_DURATION):r(),o.removeClass(\"in\")};var n=t.fn.tab;t.fn.tab=a,t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var i=function(e){e.preventDefault(),a.call(t(this),\"show\")};t(document).on(\"click.bs.tab.data-api\",'[data-toggle=\"tab\"]',i).on(\"click.bs.tab.data-api\",'[data-toggle=\"pill\"]',i)}(jQuery),$(\"[data-move-pagination]\").on(\"click\",function(t){t.preventDefault();var a=$(this),e=a.data().movePagination,n=a.closest(\"ul\").children(\"li.active\")[e](\":not(.arrow)\");n&&n.children(\"a\").click()}),addCardFlip(),makeEmbedSwitch(),activateCopyButton();</script>","uniquePath":"p/clanstva","__v":0,"lastUpdate":"2016-11-10T04:09:35.723Z","dateTimeCreated":"2016-07-31T21:15:19.837Z"}